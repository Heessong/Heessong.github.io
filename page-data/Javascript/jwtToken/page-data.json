{"componentChunkName":"component---src-templates-blog-post-js","path":"/Javascript/jwtToken/","result":{"data":{"site":{"siteMetadata":{"title":"휘성's Library","author":"[Hwisung, Kim]","siteUrl":"https://heessong.github.io","comment":{"disqusShortName":"","utterances":"Heessong/blog-comments"},"sponsor":{"buyMeACoffeeId":"jbee"}}},"markdownRemark":{"id":"ca81c2cd-4df5-563d-8d21-0e167d7d58fb","excerpt":"백엔드와의 첫 연결테스트로 회원가입 및 로그인인증을 진행하였다 네트워크 연결에 어려움이 있었지만 어찌어찌 해결을하고 실습을 진행하였는데 신기했다! 첫번째로 프론트에서 입력받은 데이터를 JSON에서 string값으로 변환하여 백엔드의 회원가입 엔드포인트로 데이터를 전송한다.  fetch API에서의 method값으로 GET은 데이터를 수신하는것이고 POST는 데이터를 송신하는것이다.  우리는 현재 백엔드에게 데이터를 전송해야하니 POST로 설정하였다. 클라이언트에 이메일과 비밀번호 입력칸…","html":"<p>백엔드와의 첫 연결테스트로 회원가입 및 로그인인증을 진행하였다</p>\n<p>네트워크 연결에 어려움이 있었지만 어찌어찌 해결을하고 실습을 진행하였는데 신기했다!</p>\n<br>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://10.58.3.66:8000/user/login'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n      method<span class=\"token operator\">:</span> <span class=\"token string\">'POST'</span><span class=\"token punctuation\">,</span>\n      body<span class=\"token operator\">:</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        email<span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>inputId<span class=\"token punctuation\">,</span>\n        password<span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>inputPw<span class=\"token punctuation\">,</span>\n        name<span class=\"token operator\">:</span> <span class=\"token string\">'김휘성'</span><span class=\"token punctuation\">,</span>\n        nickname<span class=\"token operator\">:</span> <span class=\"token string\">'we휘성'</span><span class=\"token punctuation\">,</span>\n        phone_number<span class=\"token operator\">:</span> <span class=\"token string\">'01015411541'</span><span class=\"token punctuation\">,</span>\n        age<span class=\"token operator\">:</span> <span class=\"token number\">25</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>첫번째로 프론트에서 입력받은 데이터를 JSON에서 string값으로 변환하여 백엔드의 회원가입 엔드포인트로 데이터를 전송한다.</p>\n<p> fetch API에서의 method값으로 GET은 데이터를 수신하는것이고 POST는 데이터를 송신하는것이다. </p>\n<p>우리는 현재 백엔드에게 데이터를 전송해야하니 POST로 설정하였다. 클라이언트에 이메일과 비밀번호 입력칸 2개뿐이 없었던터라 올바른 전송을위해 임시로 데이터값을 하드코딩으로 넣어주어 테스트를 진행하였다. </p>\n<p>백엔드와 프론트엔드 서로의 key값이 동일하지않으면 오류가 발생하기 때문이다.</p>\n<br>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span> <span class=\"token operator\">=></span> response<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">result</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span><span class=\"token constant\">MESSAGE</span> <span class=\"token operator\">===</span> <span class=\"token string\">'SUCCESS'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'token'</span><span class=\"token punctuation\">,</span> result<span class=\"token punctuation\">.</span>token<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>history<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/main-hwisung'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'아이디나 비밀번호를 확인해주세요!!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>이렇게 백엔드에게 데이터를 전송해주면 백엔드에서 key값이 일치하는지 확인후 데이터를 저장하고 프론트엔드는 다시 응답받은 데이터를 JSON파일로 변환하여 읽는다.</p>\n<p>result는 백엔드로부터 받은 응답에대한 데이터를 담고있는 객체이다.</p>\n<p>백엔드에서의 회원가입, 로그인이 성공하여 result라는 객체안의 메세지가 SUCCESS라는 내용을 담고있으면 백엔드로부터 받은 token을 localStorage에 저장후 메인페이지로 이동한다</p>\n<p>만약 아이디나 비밀번호가 불일치하여 백엔드로부터 SUCCESS 메세지를 받지못하면 alert창이 뜨게된다.</p>\n<p>어찌보면 간단한 백엔드와 프론트엔드의 첫연결이였지만 신기하고 재밌었고</p>\n<p>앞으로의 프로젝트가 겁나기도하지만 기대도된다</p>","tableOfContents":"","frontmatter":{"title":"로그인 인증, JWT Token","date":"May 09, 2021"}}},"pageContext":{"slug":"/Javascript/jwtToken/","previous":{"fields":{"slug":"/HTML:CSS/semantic/"},"frontmatter":{"title":"Semantic Web","category":"HTML/CSS","draft":false}},"next":{"fields":{"slug":"/Diary/1stWesop/"},"frontmatter":{"title":"위솝 프로젝트 끝!!","category":"Diary","draft":false}}}},"staticQueryHashes":["2486386679","3128451518"]}